<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Henkerman<sup>&reg;</sup> Wardrobe Planner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 20px auto;
      padding: 20px;
      background-color: #ddd2c0;
      border: 1px solid #c9beb5;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.05);
    }
    label {
      display: block;
      margin-top: 15px;
      color: #5b504a;
      font-weight: bold;
    }
    input, select {
      max-width: 100%;
      box-sizing: border-box;
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #c9beb5;
      background-color: #fff;
      color: #2d2b29;
    }
    button {
      margin-top: 20px;
      padding: 12px;
      width: 100%;
      background-color: #27150f;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }
    .result, .total {
      margin-top: 20px;
      font-weight: bold;
      font-size: 1.2em;
      text-align: center;
      color: #2d2b29;
    }
    .space-entry {
      border-top: 1px solid #d6ccc2;
      margin-top: 20px;
      padding-top: 10px;
      color: #2d2b29;
    }
    .space-entry ul {
      padding-left: 20px;
      margin: 10px 0;
    }
    .space-entry li {
      list-style-type: disc;
    }
    h2 {
      color: #2d2b29;
      text-align: center;
    }
  </style>
</head>
<body>
  <h2>HENKERMAN<sup>&reg;</sup> HANGER: WARDROBE PLANNER</h2>
  <p style="text-align: center; color: #5b504a; font-weight: normal; margin-top: 5px;">Enter the width of each space in your wardrobe and estimate the number of Henkerman<sup>&reg;</sup> hangers that will fit there.</p>
  <label for="wardrobeWidth">Wardrobe Space Width (cm):</label>
  <input type="number" id="wardrobeWidth" min="0" placeholder="e.g. 120">

  <label for="hangerType">Select Hanger Type:</label>
  <select id="hangerType">
    <option value="Men's Coat Hanger">Men's Coat/Suit Hangers</option>
    <option value="Men's Shirt Hanger">Men's Shirt/Dress Hangers</option>
    <option value="Women's Coat Hanger">Women's Coat/Suit Hangers</option>
    <option value="Women's Shirt Hanger">Women's Shirt/Dress Hangers</option>
    <option value="Pant Hanger">Pant/Skirt Hangers</option>
    <option value="Belt Hanger">Belt Hangers</option>
    <option value="Tie Hanger">Tie Hangers</option>
    <option value="Scarf Hanger">Scarf Hangers</option>
  </select>

  <label for="hangerStatus">Hanger Status:</label>
  <select id="hangerStatus">
    <option value="with">With Garments on Hangers</option>
    <option value="without">Without Garments on Hangers</option>
  </select>
  <p style="font-size: 0.8em; color: #5b504a; margin-top: 4px;"><em>Note: Based on a typical garment thickness for each hanger.</em></p>

  <label for="spacing">Space Between Garments (cm):</label>
  <input type="number" id="spacing" min="0" placeholder="e.g. 1" step="0.1">

  <button onclick="addWardrobeSpace()" style="text-transform: uppercase; font-size: 1.2em;">Add Wardrobe Space</button>
  <p style="text-align: center; margin-top: 10px;">
    <a href="#" onclick="clearPlanner()" style="color: #a83232; text-decoration: underline; font-size: 0.9em;">Clear All</a>
  </p>

  <div style="margin-top: 20px; text-align: center;">
    <button onclick="toggleCanvas()" style="background-color: #a83232; text-transform: uppercase;">Open Canvas Overview</button>
  </div>

  <div id="error" style="color: red; text-align: center; font-weight: bold; display: none; margin-top: 10px;">Negative numbers not valid</div>
  <div id="entries"></div>
  <div class="total" id="totalHangers" style="background-color: #27150f; color: #ffffff; padding: 12px; border-radius: 8px; display: none;"></div>

  <div id="canvasContainer" style="margin-top: 20px; display: none;">
    <div style="background-color: #ece6df; padding: 10px; border-radius: 8px; color: #2d2b29; text-align: center; font-weight: bold;">Wardrobe Canvas Overview</div>
    <div style="background-color: #fff; border: 1px solid #c9beb5; border-radius: 8px; margin-top: 10px; padding: 10px;">
      <canvas id="wardrobeCanvas" width="600" height="160" style="width: 100%; max-width: 100%;"></canvas>
      <p style="font-size: 0.85em; color: #5b504a; margin-top: 8px; text-align: center;">Each bar represents a wardrobe space. Length is scaled by wardrobe width and label shows hanger counts.</p>
    </div>
  </div>

  <script>
    let totalHangers = 0;
    let spaceCounter = 1;
    const spaces = [];

    const profileThickness = {
      "Men's Coat Hanger": { with: 6, without: 5 },
      "Men's Shirt Hanger": { with: 3.25, without: 3 },
      "Women's Coat Hanger": { with: 6, without: 5 },
      "Women's Shirt Hanger": { with: 3.25, without: 3 },
      "Pant Hanger": { with: 2.5, without: 2.5 },
      "Belt Hanger": { with: 6.5, without: 6.5 },
      "Tie Hanger": { with: 3, without: 2.5 },
      "Scarf Hanger": { with: 6, without: 2 }
    };

    function addWardrobeSpace() {
      const errorDiv = document.getElementById('error');
      const width = parseFloat(document.getElementById('wardrobeWidth').value);
      const spacing = parseFloat(document.getElementById('spacing').value) || 0;

      if (width < 0 || spacing < 0) {
        let errorMessage = 'Negative numbers not valid';
        if (width < 0 && spacing < 0) {
          errorMessage += ' for Wardrobe Width and Spacing';
        } else if (width < 0) {
          errorMessage += ' for Wardrobe Width';
        } else if (spacing < 0) {
          errorMessage += ' for Spacing';
        }
        errorDiv.textContent = errorMessage;
        errorDiv.style.display = 'block';
        return;
      } else {
        errorDiv.style.display = 'none';
      }

      const hangerType = document.getElementById('hangerType').value;
      const hangerStatus = document.getElementById('hangerStatus').value;
      const hangerProfile = profileThickness[hangerType][hangerStatus];

      if (isNaN(width) || width <= 0) {
        alert('Please enter a valid wardrobe width.');
        return;
      }

      const adjustedWidth = width - spacing;
      const numHangers = Math.floor(adjustedWidth / hangerProfile);
      totalHangers += numHangers;

      const entryId = spaceCounter;
      const hangerText = document.getElementById('hangerType').options[document.getElementById('hangerType').selectedIndex].text.toUpperCase();
      spaces.push({ id: entryId, width, spacing, hangerText, numHangers });

      const statusText = hangerStatus === 'with' ? 'With Garments on Hangers' : 'Without Garments on Hangers';

      const entry = document.createElement('div');
      entry.classList.add('space-entry');
      entry.id = `space-${entryId}`;
      entry.innerHTML = `
        <div style=\"background-color: #a83232; padding: 10px; border-radius: 8px; font-weight: bold; color: #ffffff;\">
          WARDROBE SPACE ${spaceCounter}: FOR ${hangerText}
        </div>
        <ul style=\"background-color: #ece6df; padding: 10px 20px; border-radius: 8px; list-style-position: inside;\">
          <li>${width}cm Length</li>
          <li>${statusText}</li>
          <li>${spacing}cm Spacing Between Garments</li>
        </ul>
        <div style=\"background-color: #a83232; padding: 10px; border-radius: 8px; font-weight: bold; color: #ffffff; text-transform: uppercase;\">
          TOTAL: ${numHangers} ${hangerText}
        </div>
        <div style=\"display: flex; justify-content: flex-end; margin-top: -5px; padding-right: 10px;\"><button style='background:none; border:none; color:#a83232; text-decoration:underline; cursor:pointer; font-size: 0.85em;' onclick='deleteWardrobeSpace(${entryId})'>DELETE WARDROBE SPACE ${spaceCounter}</button></div>
      `;
      document.getElementById('entries').appendChild(entry);

      const totalEl = document.getElementById('totalHangers');
      totalEl.textContent = `GRAND TOTAL - FULL WARDROBE: ${totalHangers} HANGERS`;
      totalEl.style.display = 'block';

      renderCanvas();

      document.getElementById('wardrobeWidth').value = '';
      spaceCounter++;
    }
  
    function clearPlanner() {
      document.getElementById('entries').innerHTML = '';
      const totalEl = document.getElementById('totalHangers');
      totalEl.textContent = '';
      totalEl.style.display = 'none';
      document.getElementById('wardrobeWidth').value = '';
      document.getElementById('spacing').value = '';
      document.getElementById('error').style.display = 'none';
      totalHangers = 0;
      spaceCounter = 1;
      spaces.length = 0;
      renderCanvas();
    }

    function deleteWardrobeSpace(id) {
      const index = spaces.findIndex(space => space.id === id);
      if (index !== -1) {
        totalHangers -= spaces[index].numHangers;
        spaces.splice(index, 1);
      }

      const entry = document.getElementById(`space-${id}`);
      if (entry) entry.remove();

      const totalEl = document.getElementById('totalHangers');
      if (totalHangers > 0) {
        totalEl.textContent = `GRAND TOTAL - FULL WARDROBE: ${totalHangers} HANGERS`;
        totalEl.style.display = 'block';
      } else {
        totalHangers = 0;
        totalEl.textContent = '';
        totalEl.style.display = 'none';
      }

      renderCanvas();
    }

    function toggleCanvas() {
      const container = document.getElementById('canvasContainer');
      const isHidden = container.style.display === 'none' || container.style.display === '';
      container.style.display = isHidden ? 'block' : 'none';
      if (!isHidden) return;
      renderCanvas();
    }

    function renderCanvas() {
      const canvas = document.getElementById('wardrobeCanvas');
      const ctx = canvas.getContext('2d');
      const padding = 20;

      canvas.width = canvas.clientWidth;
      canvas.height = Math.max(spaces.length * 70 + padding * 2, 160);
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      if (!spaces.length) {
        ctx.fillStyle = '#5b504a';
        ctx.font = '16px Arial';
        ctx.fillText('Add wardrobe spaces to see them mapped here.', padding, padding + 10);
        return;
      }

      const maxWidth = Math.max(...spaces.map(space => space.width)) || 1;
      const usableWidth = canvas.width - padding * 2;
      let y = padding;

      spaces.forEach(space => {
        const barWidth = Math.max((space.width / maxWidth) * usableWidth, 10);
        ctx.fillStyle = '#a83232';
        ctx.fillRect(padding, y, barWidth, 32);

        ctx.fillStyle = '#ffffff';
        ctx.font = 'bold 14px Arial';
        ctx.fillText(`${space.numHangers} ${space.hangerText}`, padding + 8, y + 21);

        ctx.fillStyle = '#5b504a';
        ctx.font = '12px Arial';
        ctx.fillText(`${space.width}cm width`, padding + barWidth + 10, y + 21);

        y += 50;
      });
    }
  </script>
</body>
</html>
